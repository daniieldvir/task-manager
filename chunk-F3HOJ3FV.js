import{a as ce,b as me,c as pe,f as ge,h as fe,i as J,j as Ce,k as he,n as be,o as ke,p as Me,q as Pe,r as Oe,s as O,t as F,v as xe,w as ve,x as ye}from"./chunk-P76IDE6A.js";import{$ as v,Ba as le,C as x,Ca as C,D as Y,J as s,M as f,Na as ue,Qa as _e,R as X,S as h,Sa as D,T as b,Ta as K,U as Z,V as ee,W as E,X as N,Y as p,Z as a,_ as i,aa as z,ba as V,ca as te,da as M,fa as c,ha as l,ia as ne,ja as $,ka as oe,la as ie,ma as A,pa as d,qa as k,ra as j,sa as ae,t as S,ta as re,ua as se,v as g,va as Q,w as u,xa as P,ya as m,za as de}from"./chunk-4ASC3FQQ.js";var y=class{static slices=_e(ve)};var Te=["*",[["","footer",""]]],De=["*","[footer]"],Se=t=>({height:t}),Ee=()=>({});function Ne(t,n){if(t&1){let e=M();a(0,"div",1),c("click",function(r){g(e);let _=l();return u(_.onBackdropClick(r))}),a(1,"div",2)(2,"header",3)(3,"h2",4),d(4),i(),a(5,"button",5),c("click",function(){g(e);let r=l();return u(r.close())}),d(6,"\u2715"),i()(),a(7,"section",6),$(8),i(),a(9,"footer",7),$(10,1),i()()()}if(t&2){let e=l();s(),A("max-width",e.maxWidth()),p("ngStyle",e.modalHeight?se(4,Se,e.modalHeight):re(6,Ee)),s(3),k(e.title())}}var I=class t{isOpen=m(!1);title=m("");maxWidth=m("480px");height=m(null);closed=P();get modalHeight(){return this.height()||null}onBackdropClick(n){n.target.classList.contains("modal-backdrop")&&this.close()}close(){this.closed.emit()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-modal"]],inputs:{isOpen:[1,"isOpen"],title:[1,"title"],maxWidth:[1,"maxWidth"],height:[1,"height"]},outputs:{closed:"closed"},ngContentSelectors:De,decls:1,vars:1,consts:[[1,"modal-backdrop"],[1,"modal-backdrop",3,"click"],[1,"modal",3,"ngStyle"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"icon-button",3,"click"],[1,"modal-body"],[1,"modal-footer"]],template:function(e,o){e&1&&(ne(Te),h(0,Ne,11,7,"div",0)),e&2&&b(o.isOpen()?0:-1)},dependencies:[C,le],styles:["[_nghost-%COMP%]{--modal-height: auto}[_nghost-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:var(--modal-backdrop);display:flex;align-items:center;justify-content:center;z-index:50;padding:1rem}@media(max-width:768px){[_nghost-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{padding:.5rem;align-items:center}}[_nghost-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{background:var(--modal-bg);border-radius:1rem;padding:1.5rem;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 20px 40px var(--modal-shadow);border:1px solid var(--modal-border);display:flex;flex-direction:column;gap:1.25rem;height:var(--modal-height, auto)}@media(max-width:768px){[_nghost-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{max-width:100%;max-height:95vh;border-radius:1rem;padding:1.25rem 1rem;gap:1rem}}[_nghost-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}[_nghost-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:var(--text-secondary);margin:0}@media(max-width:768px){[_nghost-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1rem}}[_nghost-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{border:none;background:transparent;color:var(--text-muted);cursor:pointer;padding:.25rem;border-radius:999px;line-height:1;flex-shrink:0}[_nghost-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary);color:var(--text-primary)}[_nghost-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{color:var(--text-tertiary);flex:1;overflow-y:auto;min-height:0}[_nghost-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;flex-shrink:0;flex-wrap:wrap;--button-width: 100px}@media(max-width:768px){[_nghost-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{gap:.5rem}}"]})};var Ie=["titleInput"];function ze(t,n){if(t&1&&(a(0,"div",8),d(1),i()),t&2){let e=l();s(),k(e.error())}}var B=class t{titleInput=de("titleInput");isOpen=m(!1);title=m("");task=m(null);closed=P();confirmed=P();error=x("");fb=S(Pe);form=this.fb.group({title:["",J.required],description:["",J.required]});constructor(){Y(()=>{let n=this.titleInput();this.isOpen()&&n&&setTimeout(()=>n.nativeElement.focus(),0)}),Y(()=>{let n=this.task();n?this.form.patchValue({title:n.title,description:n.description||""}):this.form.reset(),this.error.set("")})}confirm(){if(this.form.invalid){this.error.set("Fields are required");return}let n={title:this.form.value.title??"",description:this.form.value.description??""};this.task()&&(n.id=this.task().id),this.confirmed.emit(n)}close(){this.form.reset(),this.error.set(""),this.closed.emit()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-task-form"]],viewQuery:function(e,o){e&1&&oe(o.titleInput,Ie,5),e&2&&ie()},inputs:{isOpen:[1,"isOpen"],title:[1,"title"],task:[1,"task"]},outputs:{closed:"closed",confirmed:"confirmed"},decls:15,vars:4,consts:[["titleInput",""],[1,"task-form-modal",3,"closed","isOpen","title"],[1,"task-form",3,"formGroup"],[1,"form-field"],["for","title"],["id","title","type","text","formControlName","title","autofocus",""],["for","description"],["id","description","rows","3","formControlName","description"],[1,"error"],["footer","",1,"form-actions"],["variant","secondary","label","Cancel",3,"clicked"],["variant","primary","label","Save",3,"clicked"]],template:function(e,o){if(e&1){let r=M();a(0,"app-modal",1),c("closed",function(){return g(r),u(o.close())}),a(1,"form",2)(2,"div",3)(3,"label",4),d(4,"Title"),i(),v(5,"input",5,0),i(),a(7,"div",3)(8,"label",6),d(9,"Description"),i(),v(10,"textarea",7),i()(),h(11,ze,2,1,"div",8),a(12,"div",9)(13,"app-button",10),c("clicked",function(){return g(r),u(o.close())}),i(),a(14,"app-button",11),c("clicked",function(){return g(r),u(o.confirm())}),i()()()}e&2&&(p("isOpen",o.isOpen())("title",o.title()),s(),p("formGroup",o.form),s(10),b(o.error()?11:-1))},dependencies:[C,Oe,be,fe,Ce,he,Me,ke,I,O],styles:[".task-form-modal[_ngcontent-%COMP%]{--modal-height: 375px}.task-form-modal[_ngcontent-%COMP%]   .task-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}@media(max-width:768px){.task-form-modal[_ngcontent-%COMP%]   .task-form[_ngcontent-%COMP%]{gap:.875rem}}.task-form-modal[_ngcontent-%COMP%]   .task-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.375rem}.task-form-modal[_ngcontent-%COMP%]   .task-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--text-secondary)}@media(max-width:768px){.task-form-modal[_ngcontent-%COMP%]   .task-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8125rem}}.task-form-modal[_ngcontent-%COMP%]   .task-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .task-form-modal[_ngcontent-%COMP%]   .task-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background:var(--bg-secondary);border-radius:.5rem;border:1px solid var(--border-secondary);padding:.5rem .75rem;color:var(--text-primary);font-size:.875rem;outline:none;transition:border-color .15s ease,box-shadow .15s ease,background-color .15s ease}@media(max-width:768px){.task-form-modal[_ngcontent-%COMP%]   .task-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .task-form-modal[_ngcontent-%COMP%]   .task-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.625rem .75rem;font-size:.8125rem}}.task-form-modal[_ngcontent-%COMP%]   .task-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .task-form-modal[_ngcontent-%COMP%]   .task-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:var(--accent-indigo);box-shadow:0 0 0 1px #6366f166;background:var(--bg-secondary)}.task-form-modal[_ngcontent-%COMP%]   .task-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .task-form-modal[_ngcontent-%COMP%]   .task-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.task-form-modal[_ngcontent-%COMP%]   .task-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}@media(max-width:768px){.task-form-modal[_ngcontent-%COMP%]   .task-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:105px}}.task-form-modal[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:.25rem;font-size:.75rem;color:var(--btn-danger-hover);background:#b91c1c1a;border:1px solid rgba(248,113,113,.4);border-radius:.5rem;padding:.5rem .75rem}@media(max-width:768px){.task-form-modal[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:.6875rem;padding:.4375rem .625rem;margin-top:.5rem}}.task-form-modal[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:flex-end}@media(max-width:768px){.task-form-modal[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{gap:8px;width:100%}}"]})};var L=class t{themeService=S(ye);currentTheme=this.themeService.currentTheme;toggleTheme(){this.themeService.toggleTheme()}get isDark(){return this.currentTheme()==="dark"}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-theme-toggle"]],features:[ae([ce({heroMoon:pe,heroSun:ge})])],decls:2,vars:2,consts:[["type","button",1,"theme-toggle",3,"click"],[1,"theme-icon",3,"name"]],template:function(e,o){e&1&&(a(0,"button",0),c("click",function(){return o.toggleTheme()}),v(1,"ng-icon",1),i()),e&2&&(X("aria-label",o.isDark?"Switch to light mode":"Switch to dark mode"),s(),p("name",o.isDark?"heroSun":"heroMoon"))},dependencies:[C,me],styles:[".theme-toggle[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:.5rem;border:none;background:var(--btn-icon-bg);color:var(--btn-icon-text);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .15s ease,color .15s ease,transform .1s ease;flex-shrink:0}.theme-toggle[_ngcontent-%COMP%]:hover{background:var(--btn-icon-hover);transform:scale(1.05)}.theme-toggle[_ngcontent-%COMP%]:active{transform:scale(.95)}.theme-toggle[_ngcontent-%COMP%]   .theme-icon[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}"]})};function Ve(t,n){if(t&1&&(a(0,"p",3),d(1),i()),t&2){let e=l();s(),k(e.task().description)}}function Fe(t,n){if(t&1&&(a(0,"span",4),d(1),i()),t&2){let e=l();s(),k(e.formatDate(e.task().created_at))}}function Ae(t,n){if(t&1){let e=M();a(0,"div",5)(1,"app-button",6),c("clicked",function(){g(e);let r=l();return u(r.onEdit())}),i(),a(2,"app-button",7),c("clicked",function(){g(e);let r=l();return u(r.onDelete())}),i()()}t&2&&(s(),p("additionalClass","edit"),s(),p("additionalClass","delete"))}var R=class t{task=m.required();needsActions=m.required();edit=P();delete=P();onEdit(){this.edit.emit(this.task())}onDelete(){this.delete.emit(this.task())}formatDate(n){return new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-task-item"]],inputs:{task:[1,"task"],needsActions:[1,"needsActions"]},outputs:{edit:"edit",delete:"delete"},decls:7,vars:4,consts:[[1,"task-item"],[1,"task-content"],[1,"task-title"],[1,"task-description"],[1,"task-date"],[1,"task-actions"],["variant","icon","iconName","heroPencil","title","Edit task",3,"clicked","additionalClass"],["variant","icon","iconName","heroTrash","title","Delete task",3,"clicked","additionalClass"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"h3",2),d(3),i(),h(4,Ve,2,1,"p",3),h(5,Fe,2,1,"span",4),i(),h(6,Ae,3,2,"div",5),i()),e&2&&(s(3),k(o.task().title),s(),b(o.task().description?4:-1),s(),b(o.task().created_at?5:-1),s(),b(o.needsActions()?6:-1))},dependencies:[C,O],styles:[".task-item[_ngcontent-%COMP%]{background:var(--task-item-bg);border-radius:1rem;padding:1.25rem 1.5rem;border:1px solid var(--task-item-border);box-shadow:0 18px 45px var(--task-item-shadow);display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;width:var(--task-item-width, 100%)}@media(max-width:768px){.task-item[_ngcontent-%COMP%]{padding:1rem;border-radius:.75rem;flex-direction:column;gap:.75rem}}.task-item[_ngcontent-%COMP%]:hover{box-shadow:0 20px 50px var(--task-item-shadow);border-color:var(--border-secondary)}.task-item[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]{flex:1;cursor:pointer;min-width:0}.task-item[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-title[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.15rem;font-weight:600;color:var(--task-title-text);word-wrap:break-word}@media(max-width:768px){.task-item[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-title[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.375rem}}.task-item[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-description[_ngcontent-%COMP%]{margin:0 0 .5rem;color:var(--task-description-text);font-size:.95rem;line-height:1.5;word-wrap:break-word}@media(max-width:768px){.task-item[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-description[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:.375rem}}.task-item[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-date[_ngcontent-%COMP%]{display:inline-block;font-size:.85rem;color:var(--task-date-text);margin-top:.5rem}@media(max-width:768px){.task-item[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-date[_ngcontent-%COMP%]{font-size:.75rem;margin-top:.25rem}}.task-item[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0}@media(max-width:768px){.task-item[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]{align-self:flex-end;gap:.375rem}}"]})};var G=class t{isOpen=m(!1);task=m(null);closed=P();confirmed=P();close(){this.closed.emit()}confirm(){this.confirmed.emit()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-delete-confirmation"]],inputs:{isOpen:[1,"isOpen"],task:[1,"task"]},outputs:{closed:"closed",confirmed:"confirmed"},decls:9,vars:2,consts:[["title","Delete Task",1,"delete-confirmation-modal",3,"closed","isOpen"],[1,"confirmation-message"],["footer","",1,"form-actions"],["variant","secondary","label","Cancel",3,"clicked"],["variant","danger","label","Delete",3,"clicked"]],template:function(e,o){if(e&1&&(a(0,"app-modal",0),c("closed",function(){return o.close()}),a(1,"p",1),d(2," Are you sure you want to delete "),a(3,"strong"),d(4),i(),d(5,"? This action cannot be undone. "),i(),a(6,"div",2)(7,"app-button",3),c("clicked",function(){return o.close()}),i(),a(8,"app-button",4),c("clicked",function(){return o.confirm()}),i()()()),e&2){let r;p("isOpen",o.isOpen()),s(4),j('"',(r=o.task())==null?null:r.title,'"')}},dependencies:[C,I,O],styles:[".delete-confirmation-modal[_ngcontent-%COMP%]{--modal-height: 200px}.delete-confirmation-modal[_ngcontent-%COMP%]   .confirmation-message[_ngcontent-%COMP%]{font-size:.9375rem;line-height:1.6;margin:0}@media(max-width:768px){.delete-confirmation-modal[_ngcontent-%COMP%]   .confirmation-message[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.5}}.delete-confirmation-modal[_ngcontent-%COMP%]   .confirmation-message[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:600}.delete-confirmation-modal[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:flex-end}@media(max-width:768px){.delete-confirmation-modal[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{--button-width: 70px width: 100%}}"]})};var q=class t{title=m("");message=m("");static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-placeholder-card"]],inputs:{title:[1,"title"],message:[1,"message"]},decls:5,vars:2,consts:[[1,"placeholder-card","empty-tasks"]],template:function(e,o){e&1&&(z(0,"div",0)(1,"h2"),d(2),V(),z(3,"p"),d(4),V()()),e&2&&(s(2),k(o.title()),s(2),k(o.message()))},dependencies:[C],styles:['.placeholder-card[_ngcontent-%COMP%]{background:var(--dashboard-card-bg);border-radius:1rem;padding:2rem;border:1px solid var(--dashboard-card-border);box-shadow:0 4px 20px var(--card-shadow);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease;position:relative;overflow:hidden;height:90px}.placeholder-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent 0%,rgba(59,130,246,.5) 50%,transparent 100%)}.placeholder-card.empty-tasks[_ngcontent-%COMP%]{height:150px}.placeholder-card[_ngcontent-%COMP%]:hover{border-color:var(--border-secondary);box-shadow:0 6px 24px var(--card-shadow);transform:translateY(-2px)}@media(max-width:768px){.placeholder-card[_ngcontent-%COMP%]{padding:1.5rem 1.25rem;border-radius:.875rem}}.placeholder-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1.25rem;font-weight:600;color:var(--text-secondary);letter-spacing:-.01em}@media(max-width:768px){.placeholder-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:.5rem}}.placeholder-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-tertiary);font-size:1rem;line-height:1.6}@media(max-width:768px){.placeholder-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}']})};function je(t,n){if(t&1){let e=M();a(0,"app-button",4),c("clicked",function(){let r=g(e).$implicit,_=l();return u(_.onPageClick(r))}),d(1),i()}if(t&2){let e=n.$implicit,o=l();p("variant",e===o.currentPage()?"primary":"secondary"),s(),j(" ",e+1," ")}}var U=class t{currentPage=m(0);totalCount=m(0);pageSize=m(20);pageChange=P();totalPages=Q(()=>Math.ceil(this.totalCount()/this.pageSize()));pages=Q(()=>{let n=this.totalPages(),e=this.currentPage(),o=[],r=Math.max(0,e-2),_=Math.min(n-1,r+4);_-r<4&&(r=Math.max(0,_-4));for(let H=r;H<=_;H++)o.push(H);return o});onPageClick(n){n!==this.currentPage()&&n>=0&&n<this.totalPages()&&this.pageChange.emit(n)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-pagination"]],inputs:{currentPage:[1,"currentPage"],totalCount:[1,"totalCount"],pageSize:[1,"pageSize"]},outputs:{pageChange:"pageChange"},decls:8,vars:2,consts:[[1,"pagination"],["variant","secondary","size","small",3,"clicked","disabled"],[1,"pages"],["size","small",3,"variant"],["size","small",3,"clicked","variant"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"app-button",1),c("clicked",function(){return o.onPageClick(o.currentPage()-1)}),d(2," Previous "),i(),a(3,"div",2),E(4,je,2,2,"app-button",3,ee),i(),a(6,"app-button",1),c("clicked",function(){return o.onPageClick(o.currentPage()+1)}),d(7," Next "),i()()),e&2&&(s(),p("disabled",o.currentPage()===0),s(3),N(o.pages()),s(2),p("disabled",o.currentPage()>=o.totalPages()-1))},dependencies:[C,O],styles:[".pagination[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem}.pagination[_ngcontent-%COMP%]   .pages[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}@media(max-width:600px){.pagination[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.75rem}.pagination[_ngcontent-%COMP%]   .pages[_ngcontent-%COMP%]{order:-1;width:100%;justify-content:center}}"]})};function Be(t,n){if(t&1&&te(0,"div",2),t&2){let e=l();A("width",e.width())("height",e.height())("border-radius",e.borderRadius())}}var W=class t{width=m("100%");height=m("1rem");borderRadius=m("0.5rem");count=m(1);get items(){return Array(this.count()).fill(0)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-skeleton-loader"]],inputs:{width:[1,"width"],height:[1,"height"],borderRadius:[1,"borderRadius"],count:[1,"count"]},decls:3,vars:0,consts:[[1,"skeleton-container"],[1,"skeleton-item",3,"width","height","border-radius"],[1,"skeleton-item"]],template:function(e,o){e&1&&(z(0,"div",0),E(1,Be,1,6,"div",1,Z),V()),e&2&&(s(),N(o.items))},dependencies:[C],styles:['.skeleton-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;width:100%}.skeleton-container[_ngcontent-%COMP%]   .skeleton-item[_ngcontent-%COMP%]{position:relative;overflow:hidden;background:var(--bg-tertiary)}.skeleton-container[_ngcontent-%COMP%]   .skeleton-item[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,transparent 0%,var(--border-muted) 50%,transparent 100%);animation:_ngcontent-%COMP%_shimmer 1.5s infinite linear}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}']})};var Le=(t,n)=>n.id;function Re(t,n){if(t&1&&(a(0,"div",9)(1,"p"),d(2),i()()),t&2){let e=l();s(2),k(e.error())}}function Ge(t,n){t&1&&(a(0,"div",10),v(1,"app-skeleton-loader",14),i()),t&2&&(s(),p("count",3))}function qe(t,n){t&1&&(a(0,"div",15),v(1,"app-placeholder-card",17),i())}function Ue(t,n){if(t&1){let e=M();a(0,"app-task-item",20),c("edit",function(r){g(e);let _=l(3);return u(_.editTask(r))})("delete",function(r){g(e);let _=l(3);return u(_.deleteTask(r))}),i()}if(t&2){let e=n.$implicit;p("task",e)("needsActions",!0)}}function We(t,n){if(t&1&&(a(0,"div",16)(1,"div",18)(2,"div",16),E(3,Ue,1,2,"app-task-item",19,Le),i()()()),t&2){let e=l(2);s(3),N(e.tasks())}}function He(t,n){if(t&1&&h(0,qe,2,0,"div",15)(1,We,5,0,"div",16),t&2){let e=l();b(e.totalCount()===0?0:1)}}function Ye(t,n){if(t&1){let e=M();a(0,"app-pagination",21),c("pageChange",function(r){g(e);let _=l();return u(_.goToPage(r))}),i()}if(t&2){let e=l();p("currentPage",e.currentPage())("totalCount",e.totalCount())("pageSize",e.pageSize)}}function $e(t,n){if(t&1){let e=M();a(0,"app-task-form",22),c("closed",function(){g(e);let r=l();return u(r.close())})("confirmed",function(r){g(e);let _=l();return u(_.handleFormConfirmed(r))}),i()}if(t&2){let e=l();p("isOpen",e.isOpen())("title",e.formTitle())("task",e.currentTask())}}function Qe(t,n){if(t&1){let e=M();a(0,"app-delete-confirmation",23),c("closed",function(){g(e);let r=l();return u(r.closeDeletePopup())})("confirmed",function(){g(e);let r=l();return u(r.confirmDelete())}),i()}if(t&2){let e=l();p("isOpen",e.isDeleteOpen())("task",e.taskToDelete())}}var we=class t{store=S(ue);loggedInUser=D(xe.slices.loggedInUser);tasks=D(y.slices.tasks);loading=D(y.slices.loading);error=D(y.slices.error);isOpen=x(!1);formTitle=x("");currentTask=x(null);isDeleteOpen=x(!1);taskToDelete=x(null);lastPageReached=D(y.slices.lastPageReached);totalCount=D(y.slices.totalCount);currentPage=x(0);pageSize=3;constructor(){this.store.dispatch(new K.BootstrapAuth)}onTaskDeleted(n){this.store.dispatch(new F.DeleteTask(n))}addTask(){this.currentTask.set(null),this.isOpen.set(!0),this.formTitle.set("Add Task")}close(){this.isOpen.set(!1),this.currentTask.set(null)}handleFormConfirmed(n){n.id?this.store.dispatch(new F.UpdateTask(n)):this.store.dispatch(new F.CreateTask(n)),this.isOpen.set(!1),this.currentTask.set(null)}editTask(n){this.currentTask.set(n),this.isOpen.set(!0),this.formTitle.set("Edit Task")}deleteTask(n){this.taskToDelete.set(n),this.isDeleteOpen.set(!0)}confirmDelete(){let n=this.taskToDelete();n&&this.onTaskDeleted(n),this.isDeleteOpen.set(!1),this.taskToDelete.set(null)}closeDeletePopup(){this.isDeleteOpen.set(!1),this.taskToDelete.set(null)}logout(){this.store.dispatch(new K.Logout)}goToPage(n){this.currentPage.set(n),this.store.dispatch(new F.GetTasks(n,this.pageSize)),window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-dashboard"]],decls:30,vars:7,consts:[[1,"dashboard"],[1,"header"],[1,"header-content"],[1,"subtitle"],[1,"user-info"],[1,"user-info-content"],["variant","secondary","size","small",3,"clicked"],[1,"body"],["variant","primary","iconName","heroPlus",1,"add-task-btn",3,"clicked"],[1,"error-container"],[1,"skeleton-list"],[1,"dashboard-pagination",3,"currentPage","totalCount","pageSize"],[3,"isOpen","title","task"],[3,"isOpen","task"],["height","120px","borderRadius","1rem",3,"count"],[1,"placeholder-card","empty-tasks"],[1,"tasks-list"],["title","No tasks yet","message","Get started by creating your first task!"],[1,"tasks"],[3,"task","needsActions"],[3,"edit","delete","task","needsActions"],[1,"dashboard-pagination",3,"pageChange","currentPage","totalCount","pageSize"],[3,"closed","confirmed","isOpen","title","task"],[3,"closed","confirmed","isOpen","task"]],template:function(e,o){if(e&1&&(a(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1"),d(4,"Dashboard"),i(),a(5,"p",3),d(6,"Overview of your tasks and activity."),i()(),v(7,"app-theme-toggle"),i(),a(8,"div",4)(9,"div",5)(10,"p"),d(11," Welcome: "),a(12,"strong"),d(13),i()(),a(14,"p"),d(15," You have "),a(16,"strong"),d(17),i(),d(18," tasks in your list "),i()(),a(19,"app-button",6),c("clicked",function(){return o.logout()}),d(20,"Logout"),i()(),a(21,"section",7)(22,"app-button",8),c("clicked",function(){return o.addTask()}),d(23,"Add Task"),i(),h(24,Re,3,1,"div",9),h(25,Ge,2,1,"div",10)(26,He,2,1),i(),h(27,Ye,1,3,"app-pagination",11),i(),h(28,$e,1,3,"app-task-form",12),h(29,Qe,1,2,"app-delete-confirmation",13)),e&2){let r;s(13),k(((r=o.loggedInUser())==null?null:r.email)||"User"),s(4),k(o.totalCount()),s(7),b(o.error()?24:-1),s(),b(o.loading()?25:26),s(2),b(o.totalCount()>o.pageSize?27:-1),s(),b(o.isOpen()?28:-1),s(),b(o.isDeleteOpen()?29:-1)}},dependencies:[C,L,O,R,B,G,q,U,W],styles:['[_nghost-%COMP%]{display:block;height:100vh;width:100%}[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]{padding:2rem 2.5rem;display:flex;flex-direction:column;gap:2rem;min-height:100vh;background:var(--dashboard-bg);position:relative;overflow-x:hidden}[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 20% 30%,rgba(59,130,246,.08) 0%,transparent 50%),radial-gradient(circle at 80% 70%,rgba(139,92,246,.08) 0%,transparent 50%);pointer-events:none;z-index:0;opacity:.5}[data-theme=light]   [_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]:before{opacity:.3;background:radial-gradient(circle at 20% 30%,rgba(37,99,235,.05) 0%,transparent 50%),radial-gradient(circle at 80% 70%,rgba(99,102,241,.05) 0%,transparent 50%)}@media(max-width:768px){[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]{padding:1.5rem;gap:1.5rem}}[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{margin:0;padding:1rem 1.25rem;background:var(--dashboard-user-bg);border-radius:.75rem;border:1px solid var(--dashboard-card-border);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 4px 12px var(--card-shadow);transition:all .3s ease;display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]:hover{border-color:var(--border-secondary);box-shadow:0 6px 16px var(--card-shadow)}[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-info-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--dashboard-user-text);font-size:.95rem;line-height:1.6}@media(max-width:768px){[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}}[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--dashboard-user-accent);font-weight:600;background:linear-gradient(135deg,var(--accent-blue-light) 0%,var(--accent-blue) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-bottom:1rem;border-bottom:1px solid var(--border-muted);margin-bottom:.5rem;display:flex;justify-content:space-between;align-items:flex-start;gap:1rem}[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:2rem;font-weight:700;color:var(--dashboard-header-text);letter-spacing:-.02em;line-height:1.2}@media(max-width:768px){[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}}[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:.5rem 0 0;color:var(--dashboard-subtitle-text);font-size:1rem;font-weight:400;letter-spacing:.01em}@media(max-width:768px){[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.875rem;margin-top:.4rem}}[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;flex:1;height:100%}@media(max-width:768px){[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{padding-top:.75rem}}[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{align-self:end;margin-bottom:1rem}[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]{background:#ef44441a;border-left:4px solid #ef4444;padding:1rem 1.5rem;border-radius:.5rem;margin-bottom:1.5rem;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);animation:_ngcontent-%COMP%_slideIn .3s ease-out}[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ef4444;margin:0;font-weight:500;font-size:.95rem}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .tasks-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}@media(max-width:768px){[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .tasks-list[_ngcontent-%COMP%]{padding:1rem 0;gap:.875rem}}[_nghost-%COMP%]   .dashboard[_ngcontent-%COMP%]   .dashboard-pagination[_ngcontent-%COMP%]{display:block;margin-top:auto;padding-top:1rem}']})};export{we as DashboardComponent};
