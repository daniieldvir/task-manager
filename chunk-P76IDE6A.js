import{$ as Ct,A as E,Aa as Bt,C as A,Ca as oe,D as X,Da as ne,E as C,Ea as re,F as ft,G as kt,Ga as ie,H as F,Ha as nt,I as K,J as I,K as N,L as d,La as se,M as Q,N as J,O as f,Oa as k,P as x,Pa as rt,Q as Xt,Qa as ae,S as tt,T as et,Ta as L,Y as _t,Z as yt,_ as Mt,a as l,b as v,c as p,d as D,e as Gt,fa as P,h as zt,ha as xt,i as _,ia as Vt,j as $t,ja as At,k as Wt,l as qt,m as y,ma as Kt,n as M,na as bt,o as W,oa as Dt,p as q,pa as Qt,q as w,qa as Jt,r as Y,s as c,sa as ot,t as a,u as Yt,va as B,wa as te,xa as ee,ya as u,z as mt}from"./chunk-4ASC3FQQ.js";function Ge(o){return o==null?"":/^\d+$/.test(o)?`${o}px`:o}var ze=new c("Ng Icon Pre Processor"),$e=new c("Ng Icon Post Processor");function We(){return a(ze,{optional:!0})??(o=>o)}function qe(){return a($e,{optional:!0})??(()=>{})}var Ye=new c("Ng Icon Logger"),jt=class{log(t){console.log(t)}warn(t){console.warn(t)}error(t){console.error(t)}};function Xe(){return a(Ye,{optional:!0})??new jt}var Ke=new c("Ng Icon Config");function Qe(){return a(Ke,{optional:!0})??{}}var Je=new c("Ng Icon Loader Token");var to=new c("Ng Icon Cache Token");function eo(){return a(Je,{optional:!0})}function oo(){return a(to,{optional:!0})}function nn(o){return[{provide:Ht,useFactory:(t=a(Ht,{optional:!0,skipSelf:!0}))=>l(l({},t?.reduce((e,n)=>l(l({},e),n),{})),o),multi:!0}]}var Ht=new c("Icons Token");function no(){return a(Ht,{optional:!0})??[]}function ro(o){return typeof o=="string"?Promise.resolve(o):$t(o)?o.toPromise():o}function io(o){return o.replace(/([^a-zA-Z0-9])+(.)?/g,(t,e,n)=>n?n.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,t=>t.toLowerCase())}var so=0,le=(()=>{class o{constructor(){this.config=Qe(),this.icons=no(),this.loader=eo(),this.cache=oo(),this.preProcessor=We(),this.postProcessor=qe(),this.injector=a(mt),this.renderer=a(N),this.platform=a(K),this.elementRef=a(F),this.uniqueId=so++,this.logger=Xe(),this.name=u(),this.svg=u(),this.size=u(this.config.size,{transform:Ge}),this.strokeWidth=u(this.config.strokeWidth),this.color=u(this.config.color),X(()=>this.updateIcon()),a(new te("aria-hidden"),{optional:!0})||this.elementRef.nativeElement.setAttribute("aria-hidden","true")}ngOnDestroy(){this.svgElement=void 0}async updateIcon(){let e=this.name(),n=this.svg();if(n!==void 0){this.setSvg(n);return}if(e===void 0)return;let r=io(e);for(let i of[...this.icons].reverse())if(i[r]){this.setSvg(i[r]);return}if(this.loader){let i=await this.requestIconFromLoader(e);if(i!==null){this.setSvg(i);return}}this.logger.warn(`No icon named ${e} was found. You may need to import it using the withIcons function.`)}setSvg(e){if(re(this.platform)){this.elementRef.nativeElement.innerHTML=e,this.elementRef.nativeElement.setAttribute("data-ng-icon-ssr","");return}if(this.elementRef.nativeElement.hasAttribute("data-ng-icon-ssr")&&(this.elementRef.nativeElement.removeAttribute("data-ng-icon-ssr"),this.svgElement=this.elementRef.nativeElement.querySelector("svg")??void 0,this.elementRef.nativeElement.innerHTML===e)||(this.svgElement&&this.renderer.removeChild(this.elementRef.nativeElement,this.svgElement),e===""))return;let n=this.renderer.createElement("template");e=this.replaceIds(e),this.renderer.setProperty(n,"innerHTML",this.preProcessor(e)),this.svgElement=n.content.firstElementChild,this.postProcessor(this.svgElement),this.renderer.appendChild(this.elementRef.nativeElement,this.svgElement)}replaceIds(e){if(!e.includes("ID_PLACEHOLDER_"))return e;let n=/ID_PLACEHOLDER_(\d+)/g,r=new Map,i=new Set(e.match(n));if(i===null)return e;for(let s of i){let $=s.replace("ID_PLACEHOLDER_",""),Ut=`ng-icon-${this.uniqueId}-${r.size}`;r.set($,Ut),e=e.replace(new RegExp(s,"g"),Ut)}return e}requestIconFromLoader(e){return new Promise(n=>{Yt(this.injector,async()=>{if(this.cache){let s=this.cache.get(e);if(typeof s=="string"){n(s);return}if(s instanceof Promise){let $=await s;n($);return}}let r=ro(this.loader(e));this.cache?.set(e,r);let i=await r;this.cache?.set(e,i),n(i)})})}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=Q({type:o,selectors:[["ng-icon"]],hostAttrs:["role","img"],hostVars:6,hostBindings:function(n,r){n&2&&Kt("--ng-icon__stroke-width",r.strokeWidth())("--ng-icon__size",r.size())("--ng-icon__color",r.color())},inputs:{name:[1,"name"],svg:[1,"svg"],size:[1,"size"],strokeWidth:[1,"strokeWidth"],color:[1,"color"]},decls:0,vars:0,template:function(n,r){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);line-height:initial;vertical-align:initial;overflow:hidden}[_nghost-%COMP%]     svg{width:inherit;height:inherit;vertical-align:inherit}@layer ng-icon{[_nghost-%COMP%]{color:var(--ng-icon__color, currentColor)}}"],changeDetection:0})}}return o})();var ao=["*"];function lo(o,t){o&1&&Ct(0,"div",1)}function ho(o,t){if(o&1&&Ct(0,"ng-icon",2),o&2){let e=xt();_t("name",e.iconName())}}function co(o,t){if(o&1&&(yt(0,"span"),Qt(1),Mt()),o&2){let e=xt();I(),Jt(e.label())}}var de=class o{variant=u("primary");size=u("medium");iconName=u(null);label=u("");type=u("button");disabled=u(!1);loading=u(!1);additionalClass=u("");clicked=ee();onClick(){this.disabled()||this.clicked.emit()}get classes(){let t=`app-button ${this.variant()} ${this.size()}`,e=this.loading()?"loading":"",n=this.additionalClass();return[t,e,n].filter(Boolean).join(" ")}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=Q({type:o,selectors:[["app-button"]],inputs:{variant:[1,"variant"],size:[1,"size"],iconName:[1,"iconName"],label:[1,"label"],type:[1,"type"],disabled:[1,"disabled"],loading:[1,"loading"],additionalClass:[1,"additionalClass"]},outputs:{clicked:"clicked"},ngContentSelectors:ao,decls:5,vars:7,consts:[[3,"click","type","disabled"],[1,"spinner"],[3,"name"]],template:function(e,n){e&1&&(Vt(),yt(0,"button",0),P("click",function(){return n.onClick()}),tt(1,lo,1,0,"div",1),tt(2,ho,1,1,"ng-icon",2),tt(3,co,2,1,"span"),At(4),Mt()),e&2&&(Dt(n.classes),_t("type",n.type())("disabled",n.disabled()||n.loading()),I(),et(n.loading()?1:-1),I(),et(!n.loading()&&n.iconName()?2:-1),I(),et(n.label()?3:-1))},dependencies:[oe,le],styles:[".app-button[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:999px;border:none;cursor:pointer;font-size:.875rem;font-weight:500;transition:background-color .15s ease,transform .08s ease,color .15s ease;display:inline-flex;align-items:center;justify-content:center;gap:.5rem;font-family:inherit;white-space:nowrap;width:var(--button-width, auto)}@media(max-width:768px){.app-button[_ngcontent-%COMP%]{padding:.625rem 1rem;font-size:.8125rem}}.app-button[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.97)}.app-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.app-button.small[_ngcontent-%COMP%]{padding:.25rem .75rem;font-size:.75rem;gap:.4rem}.app-button.medium[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.875rem}.app-button.large[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:1rem;gap:.75rem}.app-button.primary[_ngcontent-%COMP%]{background:var(--btn-primary-bg);color:var(--btn-primary-text)}.app-button.primary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--btn-primary-hover)}.app-button[_ngcontent-%COMP%]:not(.primary):not(.secondary):not(.danger):not(.icon){background-color:var(--accent-blue);color:var(--text-inverse)}.app-button[_ngcontent-%COMP%]:not(.primary):not(.secondary):not(.danger):not(.icon):hover:not(:disabled){background-color:var(--btn-primary-hover)}.app-button.secondary[_ngcontent-%COMP%]{background:var(--btn-secondary-bg);color:var(--btn-secondary-text);border:1px solid var(--btn-secondary-border)}.app-button.secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--btn-secondary-hover)}.app-button.danger[_ngcontent-%COMP%]{background:var(--btn-danger-bg);color:var(--btn-danger-text)}.app-button.danger[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--btn-danger-hover)}.app-button.icon[_ngcontent-%COMP%]{width:2rem;height:2rem;padding:0;border-radius:.5rem;background:var(--btn-icon-bg);color:var(--btn-icon-text);transition:background-color .15s ease,color .15s ease,transform .1s ease}.app-button.icon[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--btn-icon-hover);transform:scale(1.05)}.app-button.icon[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.95)}.app-button.icon[_ngcontent-%COMP%]   ng-icon[_ngcontent-%COMP%]{width:16px;height:16px}.app-button.icon.edit[_ngcontent-%COMP%]:hover:not(:disabled){background:#4f46e533;color:var(--accent-indigo)}.app-button.icon.delete[_ngcontent-%COMP%]:hover:not(:disabled){background:#ef444433;color:var(--btn-danger-hover)}.app-button[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:1rem;height:1rem;border:2px solid currentColor;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:_ngcontent-%COMP%_rotation 1s linear infinite}.app-button[_ngcontent-%COMP%]   ng-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:1.15rem;height:1.15rem}@keyframes _ngcontent-%COMP%_rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var m;(r=>{class o{constructor(s=0,$=3){this.page=s;this.pageSize=$}static type="[Tasks] Get Tasks"}r.GetTasks=o;class t{constructor(s){this.task=s}static type="[Tasks] Create Task"}r.CreateTask=t;class e{constructor(s){this.task=s}static type="[Tasks] Update Task"}r.UpdateTask=e;class n{constructor(s){this.task=s}static type="[Tasks] Delete Task"}r.DeleteTask=n})(m||={});var St={production:!0,apiUrl:"https://task-manager-55wy.onrender.com"},it=class o{baseUrl=St.apiUrl+"/auth";http=a(nt);login(t,e){return this.http.post(`${this.baseUrl}/login`,{email:t,password:e})}logout(){return this.http.post(`${this.baseUrl}/logout`,{})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=w({token:o,factory:o.\u0275fac,providedIn:"root"})};var h=class{authService=a(it);router=a(se);bootstrapAuth(t){let e=localStorage.getItem("token"),n=localStorage.getItem("user");if(!e||!n){this.router.navigate(["/login"]);return}try{let r=JSON.parse(n);t.patchState({loggedInUser:r,loading:!1}),t.dispatch(new m.GetTasks)}catch{localStorage.removeItem("token"),localStorage.removeItem("user"),this.router.navigate(["/login"])}}loginUser(t,e){return t.patchState({loading:!0}),this.authService.login(e.loginData.email,e.loginData.password).pipe(M(n=>{n.user&&n.token&&(localStorage.setItem("token",n.token),localStorage.setItem("user",JSON.stringify(n.user)),t.patchState({loggedInUser:n.user,loading:!1}),t.dispatch(new m.GetTasks),this.router.navigate(["/dashboard"]))}),y(n=>{let r=n instanceof ie?n.error?.message:null;return t.patchState({loading:!1,error:r}),_(null)}))}oauthLoginSuccess(t,e){t.patchState({loggedInUser:e.data.user,loading:!1}),t.dispatch(new m.GetTasks)}logout(t){return this.authService.logout().pipe(M(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t.patchState({loggedInUser:null,loading:!1,error:null}),this.router.navigate(["/login"])}),y(()=>(localStorage.removeItem("token"),localStorage.removeItem("user"),t.patchState({loggedInUser:null,loading:!1,error:null}),this.router.navigate(["/login"]),_(null))))}};D(h,"\u0275fac",function(e){return new(e||h)}),D(h,"\u0275prov",w({token:h,factory:h.\u0275fac})),p([k(L.BootstrapAuth)],h.prototype,"bootstrapAuth",1),p([k(L.LoginUser)],h.prototype,"loginUser",1),p([k(L.OAuthLoginSuccess)],h.prototype,"oauthLoginSuccess",1),p([k(L.Logout)],h.prototype,"logout",1),h=p([rt({name:"auth",defaults:{loggedInUser:null,loading:!1,error:null}})],h);var he=class{static slices=ae(h)};var En='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true" data-slot="icon" style="stroke-width:var(--ng-icon__stroke-width, 1.5)"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"></path></svg>';var Fn='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true" data-slot="icon" style="stroke-width:var(--ng-icon__stroke-width, 1.5)"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg>';var In='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true" data-slot="icon" style="stroke-width:var(--ng-icon__stroke-width, 1.5)"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15"></path></svg>';var Nn='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true" data-slot="icon" style="stroke-width:var(--ng-icon__stroke-width, 1.5)"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg>';var Pn='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true" data-slot="icon" style="stroke-width:var(--ng-icon__stroke-width, 1.5)"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>';var _e=(()=>{class o{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||o)(d(N),d(F))};static \u0275dir=f({type:o})}return o})(),uo=(()=>{class o extends _e{static \u0275fac=(()=>{let e;return function(r){return(e||(e=kt(o)))(r||o)}})();static \u0275dir=f({type:o,features:[x]})}return o})(),ye=new c("");var go={provide:ye,useExisting:q(()=>Me),multi:!0};function vo(){let o=Bt()?Bt().getUserAgent():"";return/android (\d+)/.test(o.toLowerCase())}var po=new c(""),Me=(()=>{class o extends _e{_compositionMode;_composing=!1;constructor(e,n,r){super(e,n),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!vo())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||o)(d(N),d(F),d(po,8))};static \u0275dir=f({type:o,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&P("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[ot([go]),x]})}return o})();function Nt(o){return o==null||Pt(o)===0}function Pt(o){return o==null?null:Array.isArray(o)||typeof o=="string"?o.length:o instanceof Set?o.size:null}var Ce=new c(""),xe=new c(""),wo=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ce=class{static min(t){return mo(t)}static max(t){return fo(t)}static required(t){return ko(t)}static requiredTrue(t){return _o(t)}static email(t){return yo(t)}static minLength(t){return Mo(t)}static maxLength(t){return Co(t)}static pattern(t){return xo(t)}static nullValidator(t){return Ve()}static compose(t){return He(t)}static composeAsync(t){return Ze(t)}};function mo(o){return t=>{if(t.value==null||o==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<o?{min:{min:o,actual:t.value}}:null}}function fo(o){return t=>{if(t.value==null||o==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>o?{max:{max:o,actual:t.value}}:null}}function ko(o){return Nt(o.value)?{required:!0}:null}function _o(o){return o.value===!0?null:{required:!0}}function yo(o){return Nt(o.value)||wo.test(o.value)?null:{email:!0}}function Mo(o){return t=>{let e=t.value?.length??Pt(t.value);return e===null||e===0?null:e<o?{minlength:{requiredLength:o,actualLength:e}}:null}}function Co(o){return t=>{let e=t.value?.length??Pt(t.value);return e!==null&&e>o?{maxlength:{requiredLength:o,actualLength:e}}:null}}function xo(o){if(!o)return Ve;let t,e;return typeof o=="string"?(e="",o.charAt(0)!=="^"&&(e+="^"),e+=o,o.charAt(o.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=o.toString(),t=o),n=>{if(Nt(n.value))return null;let r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Ve(o){return null}function Ae(o){return o!=null}function be(o){return Xt(o)?zt(o):o}function De(o){let t={};return o.forEach(e=>{t=e!=null?l(l({},t),e):t}),Object.keys(t).length===0?null:t}function Be(o,t){return t.map(e=>e(o))}function Vo(o){return!o.validate}function je(o){return o.map(t=>Vo(t)?t:e=>t.validate(e))}function He(o){if(!o)return null;let t=o.filter(Ae);return t.length==0?null:function(e){return De(Be(e,t))}}function Se(o){return o!=null?He(je(o)):null}function Ze(o){if(!o)return null;let t=o.filter(Ae);return t.length==0?null:function(e){let n=Be(e,t).map(be);return qt(n).pipe(Wt(De))}}function Ee(o){return o!=null?Ze(je(o)):null}function ue(o,t){return o===null?[t]:Array.isArray(o)?[...o,t]:[o,t]}function Fe(o){return o._rawValidators}function Ie(o){return o._rawAsyncValidators}function Zt(o){return o?Array.isArray(o)?o:[o]:[]}function lt(o,t){return Array.isArray(o)?o.includes(t):o===t}function ge(o,t){let e=Zt(t);return Zt(o).forEach(r=>{lt(e,r)||e.push(r)}),e}function ve(o,t){return Zt(t).filter(e=>!lt(o,e))}var dt=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Se(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ee(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},S=class extends dt{name;get formDirective(){return null}get path(){return null}},G=class extends dt{_parent=null;name=null;valueAccessor=null},ht=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var ar=(()=>{class o extends ht{constructor(e){super(e)}static \u0275fac=function(n){return new(n||o)(d(G,2))};static \u0275dir=f({type:o,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&bt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[x]})}return o})(),lr=(()=>{class o extends ht{constructor(e){super(e)}static \u0275fac=function(n){return new(n||o)(d(S,10))};static \u0275dir=f({type:o,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&bt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[x]})}return o})();var O="VALID",st="INVALID",j="PENDING",T="DISABLED",V=class{},ct=class extends V{value;source;constructor(t,e){super(),this.value=t,this.source=e}},R=class extends V{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},U=class extends V{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},H=class extends V{status;source;constructor(t,e){super(),this.status=t,this.source=e}},Et=class extends V{source;constructor(t){super(),this.source=t}},z=class extends V{source;constructor(t){super(),this.source=t}};function Lt(o){return(pt(o)?o.validators:o)||null}function Ao(o){return Array.isArray(o)?Se(o):o||null}function Ot(o,t){return(pt(t)?t.asyncValidators:o)||null}function bo(o){return Array.isArray(o)?Ee(o):o||null}function pt(o){return o!=null&&!Array.isArray(o)&&typeof o=="object"}function Ne(o,t,e){let n=o.controls;if(!(t?Object.keys(n):n).length)throw new W(1e3,"");if(!n[e])throw new W(1001,"")}function Pe(o,t,e){o._forEachChild((n,r)=>{if(e[r]===void 0)throw new W(1002,"")})}var Z=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return C(this.statusReactive)}set status(t){C(()=>this.statusReactive.set(t))}_status=B(()=>this.statusReactive());statusReactive=A(void 0);get valid(){return this.status===O}get invalid(){return this.status===st}get pending(){return this.status==j}get disabled(){return this.status===T}get enabled(){return this.status!==T}errors;get pristine(){return C(this.pristineReactive)}set pristine(t){C(()=>this.pristineReactive.set(t))}_pristine=B(()=>this.pristineReactive());pristineReactive=A(!0);get dirty(){return!this.pristine}get touched(){return C(this.touchedReactive)}set touched(t){C(()=>this.touchedReactive.set(t))}_touched=B(()=>this.touchedReactive());touchedReactive=A(!1);get untouched(){return!this.touched}_events=new Gt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(ge(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ge(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ve(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ve(t,this._rawAsyncValidators))}hasValidator(t){return lt(this._rawValidators,t)}hasAsyncValidator(t){return lt(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(v(l({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new U(!0,n))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new U(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(v(l({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new R(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new R(!0,n))}markAsPending(t={}){this.status=j;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new H(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(v(l({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=T,this.errors=null,this._forEachChild(r=>{r.disable(v(l({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ct(this.value,n)),this._events.next(new H(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(v(l({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=O,this._forEachChild(n=>{n.enable(v(l({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(v(l({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===O||this.status===j)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ct(this.value,e)),this._events.next(new H(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(v(l({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?T:O}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=j,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let n=be(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new H(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new E,this.statusChanges=new E}_calculateStatus(){return this._allControlsDisabled()?T:this.errors?st:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(j)?j:this._anyControlsHaveStatus(st)?st:O}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new R(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new U(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){pt(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Ao(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=bo(this._rawAsyncValidators)}},ut=class extends Z{constructor(t,e,n){super(Lt(e),Ot(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Pe(this,!0,t),Object.keys(t).forEach(n=>{Ne(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,v(l({},e),{onlySelf:!0}))}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new z(this))}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,i)=>{n=e(n,r,i)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Ft=class extends ut{};var Le=new c("",{factory:()=>Tt}),Tt="always";function Do(o,t){return[...t.path,o]}function pe(o,t,e=Tt){Rt(o,t),t.valueAccessor.writeValue(o.value),(o.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(o.disabled),jo(o,t),So(o,t),Ho(o,t),Bo(o,t)}function we(o,t,e=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),vt(o,t),o&&(t._invokeOnDestroyCallbacks(),o._registerOnCollectionChange(()=>{}))}function gt(o,t){o.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Bo(o,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};o.registerOnDisabledChange(e),t._registerOnDestroy(()=>{o._unregisterOnDisabledChange(e)})}}function Rt(o,t){let e=Fe(o);t.validator!==null?o.setValidators(ue(e,t.validator)):typeof e=="function"&&o.setValidators([e]);let n=Ie(o);t.asyncValidator!==null?o.setAsyncValidators(ue(n,t.asyncValidator)):typeof n=="function"&&o.setAsyncValidators([n]);let r=()=>o.updateValueAndValidity();gt(t._rawValidators,r),gt(t._rawAsyncValidators,r)}function vt(o,t){let e=!1;if(o!==null){if(t.validator!==null){let r=Fe(o);if(Array.isArray(r)&&r.length>0){let i=r.filter(s=>s!==t.validator);i.length!==r.length&&(e=!0,o.setValidators(i))}}if(t.asyncValidator!==null){let r=Ie(o);if(Array.isArray(r)&&r.length>0){let i=r.filter(s=>s!==t.asyncValidator);i.length!==r.length&&(e=!0,o.setAsyncValidators(i))}}}let n=()=>{};return gt(t._rawValidators,n),gt(t._rawAsyncValidators,n),e}function jo(o,t){t.valueAccessor.registerOnChange(e=>{o._pendingValue=e,o._pendingChange=!0,o._pendingDirty=!0,o.updateOn==="change"&&Oe(o,t)})}function Ho(o,t){t.valueAccessor.registerOnTouched(()=>{o._pendingTouched=!0,o.updateOn==="blur"&&o._pendingChange&&Oe(o,t),o.updateOn!=="submit"&&o.markAsTouched()})}function Oe(o,t){o._pendingDirty&&o.markAsDirty(),o.setValue(o._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(o._pendingValue),o._pendingChange=!1}function So(o,t){let e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};o.registerOnChange(e),t._registerOnDestroy(()=>{o._unregisterOnChange(e)})}function Zo(o,t){o==null,Rt(o,t)}function Eo(o,t){return vt(o,t)}function Fo(o,t){if(!o.hasOwnProperty("model"))return!1;let e=o.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Io(o){return Object.getPrototypeOf(o.constructor)===uo}function No(o,t){o._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Po(o,t){if(!t)return null;Array.isArray(t);let e,n,r;return t.forEach(i=>{i.constructor===Me?e=i:Io(i)?n=i:r=i}),r||n||e||null}function Lo(o,t){let e=o.indexOf(t);e>-1&&o.splice(e,1)}function me(o,t){let e=o.indexOf(t);e>-1&&o.splice(e,1)}function fe(o){return typeof o=="object"&&o!==null&&Object.keys(o).length===2&&"value"in o&&"disabled"in o}var at=class extends Z{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,n){super(Lt(e),Ot(n,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pt(e)&&(e.nonNullable||e.initialValueIsDefault)&&(fe(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),e.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new z(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){me(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){me(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){fe(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Oo=o=>o instanceof at;var hr=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275dir=f({type:o,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return o})();var It=class extends Z{constructor(t,e,n){super(Lt(e),Ot(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){Array.isArray(t)?t.forEach(n=>{this.controls.push(n),this._registerControl(n)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Pe(this,!1,t),t.forEach((n,r)=>{Ne(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],v(l({},e),{onlySelf:!0}))}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new z(this))}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,n)=>n._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};var To=(()=>{class o extends S{callSetDisabledState;get submitted(){return C(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=B(()=>this._submittedReactive());_submittedReactive=A(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(e,n,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this.onChanges(e)}ngOnDestroy(){this.onDestroy()}onChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(vt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(e){let n=this.form.get(e.path);return pe(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){we(e.control||null,e,!1),Lo(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}getFormArray(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}updateModel(e,n){this.form.get(e.path).setValue(n)}onReset(){this.resetForm()}resetForm(e=void 0,n={}){this.form.reset(e,n),this._submittedReactive.set(!1)}onSubmit(e){return this.submitted=!0,No(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Et(this.control)),e?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,r=this.form.get(e.path);n!==r&&(we(n||null,e),Oo(r)&&(pe(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);Zo(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&Eo(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Rt(this.form,this),this._oldForm&&vt(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(n){return new(n||o)(d(Ce,10),d(xe,10),d(Le,8))};static \u0275dir=f({type:o,features:[x,ft]})}return o})();var Te=new c("");var Ro={provide:G,useExisting:q(()=>Uo)},Uo=(()=>{class o extends G{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new E;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,n,r,i,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Po(this,i)}ngOnChanges(e){this._added||this._setUpControl(),Fo(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Do(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(n){return new(n||o)(d(S,13),d(Ce,10),d(xe,10),d(ye,10),d(Te,8))};static \u0275dir=f({type:o,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ot([Ro]),x,ft]})}return o})();var Go={provide:S,useExisting:q(()=>zo)},zo=(()=>{class o extends To{form=null;ngSubmit=new E;get control(){return this.form}static \u0275fac=(()=>{let e;return function(r){return(e||(e=kt(o)))(r||o)}})();static \u0275dir=f({type:o,selectors:[["","formGroup",""]],hostBindings:function(n,r){n&1&&P("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ot([Go]),x]})}return o})();var $o=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=J({type:o});static \u0275inj=Y({})}return o})();function ke(o){return!!o&&(o.asyncValidators!==void 0||o.validators!==void 0||o.updateOn!==void 0)}var cr=(()=>{class o{useNonNullable=!1;get nonNullable(){let e=new o;return e.useNonNullable=!0,e}group(e,n=null){let r=this._reduceControls(e),i={};return ke(n)?i=n:n!==null&&(i.validators=n.validator,i.asyncValidators=n.asyncValidator),new ut(r,i)}record(e,n=null){let r=this._reduceControls(e);return new Ft(r,n)}control(e,n,r){let i={};return this.useNonNullable?(ke(n)?i=n:(i.validators=n,i.asyncValidators=r),new at(e,v(l({},i),{nonNullable:!0}))):new at(e,n,r)}array(e,n,r){let i=e.map(s=>this._createControl(s));return new It(i,n,r)}_reduceControls(e){let n={};return Object.keys(e).forEach(r=>{n[r]=this._createControl(e[r])}),n}_createControl(e){if(e instanceof at)return e;if(e instanceof Z)return e;if(Array.isArray(e)){let n=e[0],r=e.length>1?e[1]:null,i=e.length>2?e[2]:null;return this.control(n,r,i)}else return this.control(e)}static \u0275fac=function(n){return new(n||o)};static \u0275prov=w({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var ur=(()=>{class o{static withConfig(e){return{ngModule:o,providers:[{provide:Te,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Le,useValue:e.callSetDisabledState??Tt}]}}static \u0275fac=function(n){return new(n||o)};static \u0275mod=J({type:o});static \u0275inj=Y({imports:[$o]})}return o})();var wt=class o{baseUrl=St.apiUrl+"/tasks";http=a(nt);getTasks(t=0,e=20){return this.http.get(`${this.baseUrl}`,{params:{page:t.toString(),pageSize:e.toString()}})}createTask(t,e){return this.http.post(`${this.baseUrl}`,{title:t,description:e})}updateTask(t){return this.http.put(`${this.baseUrl}/${t.id}`,{title:t.title,description:t.description})}deleteTask(t){return this.http.delete(`${this.baseUrl}/${t}`)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=w({token:o,factory:o.\u0275fac,providedIn:"root"})};var g=class{taskService=a(wt);getTasks(t,e){return t.patchState({loading:!0}),this.taskService.getTasks(e.page,e.pageSize).pipe(M(({tasks:n,count:r})=>{t.patchState({tasks:n,totalCount:r||0,lastPageReached:n.length<e.pageSize,loading:!1,error:null})}),y(n=>(t.patchState({loading:!1,error:n.message}),_(null))))}createTask(t,e){return t.patchState({loading:!0}),this.taskService.createTask(e.task.title,e.task.description).pipe(M(()=>{t.patchState({error:null}),t.dispatch(new m.GetTasks(0,3))}),y(n=>(t.patchState({loading:!1,error:n.message}),_(null))))}updateTask(t,e){return t.patchState({loading:!0}),this.taskService.updateTask(e.task).pipe(M(n=>{let i=t.getState().tasks.map(s=>s.id===n.id?n:s);t.patchState({tasks:i,loading:!1,error:null})}),y(n=>(t.patchState({loading:!1,error:n.message}),_(null))))}deleteTask(t,e){return t.patchState({loading:!0}),this.taskService.deleteTask(e.task.id).pipe(M(()=>{let n=t.getState(),r=n.tasks.filter(i=>i.id!==e.task.id);t.patchState({tasks:r,totalCount:Math.max(0,n.totalCount-1),loading:!1,error:null})}),y(n=>(t.patchState({loading:!1,error:n.message}),_(null))))}};D(g,"\u0275fac",function(e){return new(e||g)}),D(g,"\u0275prov",w({token:g,factory:g.\u0275fac})),p([k(m.GetTasks)],g.prototype,"getTasks",1),p([k(m.CreateTask)],g.prototype,"createTask",1),p([k(m.UpdateTask)],g.prototype,"updateTask",1),p([k(m.DeleteTask)],g.prototype,"deleteTask",1),g=p([rt({name:"tasks",defaults:{tasks:[],loading:!1,error:null,totalCount:0,lastPageReached:!1}})],g);var Re=class o{THEME_KEY="app-theme";platformId=a(K);isBrowser=ne(this.platformId);currentTheme=A(this.getInitialTheme());constructor(){if(!this.isBrowser)return;this.applyTheme(this.currentTheme()),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{localStorage.getItem(this.THEME_KEY)||this.setTheme(e.matches?"dark":"light")}),X(()=>{this.applyTheme(this.currentTheme())})}getInitialTheme(){if(!this.isBrowser)return"light";let t=localStorage.getItem(this.THEME_KEY);return t==="light"||t==="dark"?t:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}setTheme(t){this.currentTheme.set(t),this.isBrowser&&localStorage.setItem(this.THEME_KEY,t)}toggleTheme(){let t=this.currentTheme()==="dark"?"light":"dark";this.setTheme(t)}applyTheme(t){if(!this.isBrowser)return;let e=document.documentElement;e.setAttribute("data-theme",t),t==="dark"?(e.classList.add("dark"),e.classList.remove("light")):(e.classList.add("light"),e.classList.remove("dark"))}static \u0275fac=function(e){return new(e||o)};static \u0275prov=w({token:o,factory:o.\u0275fac,providedIn:"root"})};export{nn as a,le as b,En as c,Fn as d,In as e,Nn as f,Pn as g,Me as h,ce as i,ar as j,lr as k,ut as l,at as m,hr as n,Uo as o,zo as p,cr as q,ur as r,de as s,m as t,h as u,he as v,g as w,Re as x};
